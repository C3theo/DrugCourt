{% extends "core/home.html" %}
{% load static pdb %}

{% block main-header %}{{ client.full_name }}{% endblock main-header %}
{% block buttons %}
<!-- <div class="btn-group mr-2">
  <button type="button" class="btn btn-sm btn-outline-primary js-create-model" data-url="/intake/client/create">
    <span class="fas fa-plus" aria-hidden="true"></span>
    Add Referral
  </button>
  <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
</div>
<button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
  This week
</button> -->
{% endblock %}

{% block content %}

<div id="model-table">
  <nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab"
        aria-controls="nav-home" aria-selected="true">Court</a>
      <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab"
        aria-controls="nav-profile" aria-selected="false">Treatment</a>
      <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab"
        aria-controls="nav-contact" aria-selected="false">Objectives</a>
    </div>
  </nav>

  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
      <p class="pt-5">
        <!-- {# client.pk|pdb #} -->
        <button type="button" class="btn btn-primary js-update-model" data-url="{% url 'court:create' client.id %}">
          <span class="fas fa-plus"></span>
          Add Court Date
        </button>
      </p>
      <table class="table table-striped table-bordered table-hover " id="courtDate">
        <caption>List of Court Dates</caption>
        <thead>
          <tr>
            <!-- <th>Client</th> -->
            <th>Court Date</th>
            <th>Event Type</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>

          {% include 'court/includes/partial_court_list.html' %}

        </tbody>
      </table>
    </div>
    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
      <p class="pt-5">
        <button type="button" class="btn btn-primary js-update-model" data-url="{% url 'treatment:create' client.id %}">
          <span class="fas fa-plus"></span>
          Add Treatment Session
        </button>
      </p>
      <table class="table table-striped table-bordered table-hover" id="treatment">
        <thead>
          <tr>
            <!-- <th>Client</th> -->
            <th>Session Date</th>
            <th>Attended?</th>
            <th>Absence Reason</th>
            <th>Time In</th>
            <th>Time Out</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>

          {% include 'treatment/includes/partial_treatment_list.html' %}

        </tbody>
      </table>
    </div>
    <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
      <p class="pt-5">
        <button type="button" class="btn btn-primary js-update-model"
          data-url="{% url 'treatment:objectives_create' client.id %}">
          <span class="fas fa-plus"></span>
          Add Objectives
        </button>
      </p>

      <table class="table table-striped table-bordered table-hover"
        data-url="{% url 'treatment:client_objectives' client.id %}" id="objectives" objective="{% if objective %} {{ objective.id }} {% endif %}" style="width:100%">
        <thead>
          <tr>
            <th></th>
            <!-- <th>Client</th> -->
            <th>Objective</th>
            <th>Description</th>
            <th>Target</th>
            <!-- <th>Action</th> -->
          </tr>
        </thead>
      </table>

    </div>
  </div>
</div>

{% endblock content %}

{% block extracss %}
<link rel="stylesheet" type="text/css" href="{% static 'core/row-details.css' %}">
{% endblock extracss %}

{% block javascript %}
<script type="module" src="{% static 'core/main.js' %}"></script>
{% endblock javascript %}